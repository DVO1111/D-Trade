<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D-Trade - Professional Trading Interface</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-left">
            <div class="logo">
                <span class="logo-icon">‚ö°</span>
                <span class="logo-text">D-TRADE</span>
            </div>
            <div class="token-info">
                <span class="token-name">SOL/USDT</span>
                <span class="token-price" id="currentPrice">$142.50</span>
                <span class="price-change positive" id="priceChange">+2.34%</span>
            </div>
        </div>
        
        <div class="nav-right">
            <button id="connectWallet" class="connect-btn">Connect Wallet</button>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Left Side - Chart & Trading -->
        <div class="left-panel">
            <!-- Chart Section -->
            <div class="chart-section">
                <div class="chart-header">
                    <div class="chart-controls">
                        <div class="timeframe-buttons">
                            <button class="tf-btn" data-tf="1m">1m</button>
                            <button class="tf-btn" data-tf="5m">5m</button>
                            <button class="tf-btn active" data-tf="15m">15m</button>
                            <button class="tf-btn" data-tf="1h">1h</button>
                            <button class="tf-btn" data-tf="4h">4h</button>
                            <button class="tf-btn" data-tf="1d">1D</button>
                        </div>
                        <div class="chart-tools">
                            <button class="tool-btn" title="Drawing Tools">üìè</button>
                            <button class="tool-btn" title="Indicators">üìä</button>
                            <button class="tool-btn" title="Settings">‚öôÔ∏è</button>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <div id="tradingChart" class="trading-chart"></div>
                </div>
            </div>

            <!-- Quick Trading Section -->
            <div class="quick-trade-section">
                <div class="trade-header">
                    <h3>Quick Trade</h3>
                    <div class="wallet-status">
                        <span class="status-indicator" id="walletIndicator">üî¥</span>
                        <span id="walletStatusText">Not Connected</span>
                    </div>
                </div>
                
                <div class="trade-form">
                    <div class="trade-input-group">
                        <label>Amount (USDT)</label>
                        <input type="number" id="tradeAmount" placeholder="0.00" min="0" step="0.01">
                        <div class="balance">Balance: <span id="usdtBalance">0</span> USDT</div>
                    </div>
                    
                    <div class="trade-buttons">
                        <button class="trade-btn buy-btn" id="buyBtn">
                            <span>Buy SOL</span>
                            <small id="buyEstimate">‚âà 0 SOL</small>
                        </button>
                        <button class="trade-btn sell-btn" id="sellBtn">
                            <span>Sell SOL</span>
                            <small id="sellEstimate">‚âà 0 USDT</small>
                        </button>
                    </div>
                    
                    <div class="trade-message" id="tradeMessage"></div>
                </div>
            </div>

            <!-- Recent Trades -->
            <div class="trades-section">
                <div class="trades-header">
                    <h3>Recent Trades</h3>
                    <div class="trades-controls">
                        <button class="trades-filter active" data-filter="all">All</button>
                        <button class="trades-filter" data-filter="buy">Buys</button>
                        <button class="trades-filter" data-filter="sell">Sells</button>
                    </div>
                </div>
                <div class="trades-list" id="tradesList">
                    <!-- Trades will be populated here -->
                </div>
            </div>
        </div>

        <!-- Right Side - Swap Interface -->
        <div class="right-panel">
            <div class="swap-widget">
                <div class="swap-header">
                    <h2>Swap</h2>
                    <button class="settings-btn" id="swapSettings">‚öôÔ∏è</button>
                </div>

                <!-- You Pay Section -->
                <div class="swap-section">
                    <div class="section-header">
                        <span>You Pay</span>
                        <span class="balance">Balance: <span id="payTokenBalance">0</span></span>
                    </div>
                    <div class="swap-input">
                        <input type="number" id="payAmount" placeholder="0.00" min="0" step="0.01">
                        <div class="token-select" id="payTokenSelect">
                            <div class="token-info">
                                <div class="token-icon usdt-icon"></div>
                                <span class="token-symbol">USDT</span>
                            </div>
                            <span class="dropdown-arrow">‚ñº</span>
                        </div>
                    </div>
                    <div class="quick-amounts">
                        <button class="quick-btn" data-pct="25">25%</button>
                        <button class="quick-btn" data-pct="50">50%</button>
                        <button class="quick-btn" data-pct="75">75%</button>
                        <button class="quick-btn" data-pct="100">MAX</button>
                    </div>
                </div>

                <!-- Swap Arrow -->
                <div class="swap-arrow">
                    <button class="flip-btn" id="flipTokens">‚áÖ</button>
                </div>

                <!-- You Get Section -->
                <div class="swap-section">
                    <div class="section-header">
                        <span>You Get</span>
                        <span class="balance">Balance: <span id="getTokenBalance">0</span></span>
                    </div>
                    <div class="swap-input">
                        <input type="number" id="getAmount" placeholder="0.00" readonly>
                        <div class="token-select" id="getTokenSelect">
                            <div class="token-info">
                                <div class="token-icon sol-icon"></div>
                                <span class="token-symbol">SOL</span>
                            </div>
                            <span class="dropdown-arrow">‚ñº</span>
                        </div>
                    </div>
                </div>

                <!-- Swap Details -->
                <div class="swap-details" id="swapDetails" style="display: none;">
                    <div class="detail-row">
                        <span>Rate</span>
                        <span id="swapRate">1 USDT = 0.007 SOL</span>
                    </div>
                    <div class="detail-row">
                        <span>Slippage</span>
                        <span id="slippageValue">0.5%</span>
                    </div>
                </div>

                <!-- Swap Button -->
                <button class="swap-btn" id="swapBtn" disabled>
                    <span id="swapBtnText">Enter Amount</span>
                </button>

                <!-- Slippage Settings -->
                <div class="slippage-settings" id="slippageSettings" style="display: none;">
                    <div class="slippage-header">
                        <span>Slippage Tolerance</span>
                    </div>
                    <div class="slippage-options">
                        <button class="slippage-btn active" data-slippage="0.5">0.5%</button>
                        <button class="slippage-btn" data-slippage="1">1%</button>
                        <button class="slippage-btn" data-slippage="3">3%</button>
                        <input type="number" class="slippage-custom" placeholder="Custom" min="0" max="50" step="0.1">
                    </div>
                </div>
            </div>

            <!-- Portfolio Overview -->
            <div class="portfolio-widget">
                <div class="portfolio-header">
                    <h3>Portfolio</h3>
                    <div class="portfolio-value">
                        <span class="total-value" id="totalValue">$100,000.00</span>
                        <span class="pnl" id="totalPnL">$0.00 (0%)</span>
                    </div>
                </div>
                <div class="portfolio-assets">
                    <div class="asset-item">
                        <div class="asset-info">
                            <div class="token-icon usdt-icon"></div>
                            <span class="asset-symbol">USDT</span>
                        </div>
                        <div class="asset-balance">
                            <span id="portfolioUSDT">100,000</span>
                            <small>$100,000</small>
                        </div>
                    </div>
                    <div class="asset-item">
                        <div class="asset-info">
                            <div class="token-icon sol-icon"></div>
                            <span class="asset-symbol">SOL</span>
                        </div>
                        <div class="asset-balance">
                            <span id="portfolioSOL">0</span>
                            <small>$0</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wallet Modal -->
    <div id="walletModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Connect Wallet</h3>
                <button class="modal-close" id="closeModal">√ó</button>
            </div>
            <div class="wallet-options" id="walletOptions">
                <!-- Wallet options will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Token Select Modal -->
    <div id="tokenModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Select Token</h3>
                <button class="modal-close" id="closeTokenModal">√ó</button>
            </div>
            <div class="token-list">
                <div class="token-option" data-token="USDT">
                    <div class="token-icon usdt-icon"></div>
                    <div class="token-details">
                        <span class="token-symbol">USDT</span>
                        <span class="token-name">Tether USD</span>
                    </div>
                    <span class="token-balance">0</span>
                </div>
                <div class="token-option" data-token="SOL">
                    <div class="token-icon sol-icon"></div>
                    <div class="token-details">
                        <span class="token-symbol">SOL</span>
                        <span class="token-name">Solana</span>
                    </div>
                    <span class="token-balance">0</span>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>